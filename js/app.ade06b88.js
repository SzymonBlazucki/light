(function(t){function e(e){for(var r,i,c=e[0],s=e[1],l=e[2],d=0,h=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&h.push(o[i][0]),o[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);u&&u(e);while(h.length)h.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,c=1;c<n.length;c++){var s=n[c];0!==o[s]&&(r=!1)}r&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},o={app:0},a=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/light/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=s;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function o(t,e,n,o,a,i){var c=Object(r["h"])("svgDraw");return Object(r["e"])(),Object(r["b"])("div",null,[Object(r["d"])(c,{msg:"Simple light beam visualization"})])}var a=Object(r["l"])("data-v-4759e9ec");Object(r["g"])("data-v-4759e9ec");var i={class:"hello"},c=Object(r["d"])("path",{class:"static",d:"M 20 180 l 65 0 l 0 15 l 15 0 l 0 10 l -15 0 l 0 15 l -65 0 Z",style:{stroke:"white",fill:"grey"}},null,-1);Object(r["f"])();var s=a((function(t,e,n,o,a,s){return Object(r["e"])(),Object(r["b"])("div",i,[Object(r["d"])("h1",null,Object(r["i"])(n.msg),1),Object(r["d"])("p",null,[Object(r["c"])(" Below as you've probably noticed there's a box and lens. Let's drag it and see what happens.(focal length is "+Object(r["i"])(a.f)+" try to adjust it!) ",1),Object(r["k"])(Object(r["d"])("input",{type:"range","onUpdate:modelValue":e[1]||(e[1]=function(t){return a.f=t}),min:"-250",max:"250"},null,512),[[r["j"],a.f]])]),(Object(r["e"])(),Object(r["b"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"50%",height:"30%",viewBox:[a.startX,a.startY,a.backgroundWidth,a.backgroundHeight]},[Object(r["d"])("rect",{width:a.backgroundWidth,height:a.backgroundHeight,class:"background"},null,8,["width","height"]),c,a.inter.length?(Object(r["e"])(),Object(r["b"])("path",{key:a.lensPos.y,id:"beam2",d:s.makePath(a.emiterStart,[[a.inter[1].x-a.emiterStart.x,a.inter[1].y-a.emiterStart.y],s.nextPoint(a.inter[1].x,a.backgroundWidth,a.emiterStart.y-(a.lensPos.y+a.lensPos.height/2),a.f)])},null,8,["d"])):(Object(r["e"])(),Object(r["b"])("path",{key:a.lensPos.y,id:"beam1",d:s.makePath(a.emiterStart,a.paths)},null,8,["d"])),Object(r["d"])("rect",{ref:"lens1",class:"draggable",x:a.lensPos.x,y:a.lensPos.y,width:a.lensPos.width,height:a.lensPos.height,style:{stroke:"none",fill:"#33fcff",opacity:"0.5"},onMousedown:e[2]||(e[2]=function(t){return s.startDrag(t)}),onMousemove:e[3]||(e[3]=function(t){return s.drag(t)}),onMouseup:e[4]||(e[4]=function(t){return s.endDrag(t)}),onMouseleave:e[5]||(e[5]=function(t){return s.endDrag(t)})},null,40,["x","y","width","height"])],8,["viewBox"]))])})),l=(n("99af"),n("b85c")),u=n("53ca"),d=n("ab80"),h={name:"svgDraw",props:{msg:String},data:function(){return{startX:0,startY:0,backgroundWidth:600,backgroundHeight:400,paths:[500,0],lensPos:{x:300,y:150,width:5,height:80},selected:!1,offset:null,f:100,emiterStart:{x:100,y:200},inter:[0,0]}},computed:{h:function(){return this.backgroundHeight/3},path0:function(){return this.backgroundWidth-100},angle:function(t,e){},emiter:function(){return this.emiterStart}},methods:{getInfo:function(){var t=document.body.getElementsByTagName("rect");console.log(t[0])},getIntersection:function(t,e,n){var r=d.intersect,o=d.shape,a=r(o("path",{d:this.makePath(t,e)}),o("rect",n));return a.points},makePath:function(t,e){if("object"!=Object(u["a"])(e[0]))return"M ".concat(t.x," ").concat(t.y," l ").concat(e[0]," ").concat(e[1]);var n,r="",o=Object(l["a"])(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;r+="l ".concat(a[0]," ").concat(a[1])}}catch(i){o.e(i)}finally{o.f()}return"M ".concat(t.x," ").concat(t.y," ").concat(r)},getMousePosition:function(t){var e=t.target.getScreenCTM();return{x:(t.clientX-e.e)/e.a,y:(t.clientY-e.f)/e.d}},startDrag:function(t){t.target.classList.contains("draggable")&&(this.offset=this.getMousePosition(t),this.offset.x-=parseFloat(t.target.getAttributeNS(null,"x")),this.offset.y-=parseFloat(t.target.getAttributeNS(null,"y")),this.selected=!0)},drag:function(t){if(1==this.selected){t.preventDefault();var e=this.getMousePosition(t);parseFloat(t.target.getAttributeNS(null,"x")),parseFloat(t.target.getAttributeNS(null,"y"));this.lensPos.x=e.x-this.offset.x,this.lensPos.y=e.y-this.offset.y,this.inter=this.getIntersection(this.emiterStart,this.paths,this.lensPos)}},endDrag:function(t){this.selected=!1},nextPoint:function(t,e,n,r){return console.log(n),[e-t,-(e-t)*n/r]}}};n("6113");h.render=s,h.__scopeId="data-v-4759e9ec";var f=h,g={name:"App",components:{svgDraw:f}};n("fad0");g.render=o;var b=g;Object(r["a"])(b).mount("#app")},6113:function(t,e,n){"use strict";n("b217")},b217:function(t,e,n){},ee2d:function(t,e,n){},fad0:function(t,e,n){"use strict";n("ee2d")}});
//# sourceMappingURL=app.ade06b88.js.map